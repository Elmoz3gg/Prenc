import translate from '@vitalets/google-translate-api';
import fetch from 'node-fetch';
import axios from 'axios';
import cheerio from 'cheerio';

const handler = async (m, { conn, command }) => {
  if (command === 'ูุตูุญุฉ') {
   
    const consejo = consejos[Math.floor(Math.random() * consejos.length)];
   
    const mensaje = `โฃโโโโโโโโโโโโโโโโโโ
โ 
๐ *ูุตูุญุฉ ุงูููู* ๐
โ 
โฅ ${consejo}
โ 
โฃโโโโโโโโโโโโโโโโโโ
${gt}`;
    await m.reply(mensaje);
  }

  if (command === 'ุฑููุงูุณูุฉ') {
 
    const frase_romantica = frasesromanticas[Math.floor(Math.random() * frasesromanticas.length)];

    const mensaje = `โฃโโโโโโโโโโโโโโโโโโ
 โ 
๐ *ุนุจุงุฑุฉ ุฑููุงูุณูุฉ* ๐
 โ 
 โฅ ${frase_romantica}
 โ 
 โฃโโโโโโโโโโโโโโโโโโ
 ${gt}`;
    await m.reply(mensaje);
  }

  if (command == 'historiaromantica') {
    try {
   
      const cerpe = await cerpen(`cinta romantis`);

      const storytime = await translate(cerpe.cerita, { to: 'ar', autoCorrect: true }).catch((_) => null);
      const titletime = await translate(cerpe.title, { to: 'ar', autoCorrect: true }).catch((_) => null);
   
      conn.reply(m.chat, `แญฅ๐ซแญข ุงูุนููุงู: ${titletime.text}\nแญฅ๐แญข ุงููุคูู: ${cerpe.author}\nโโโโโโโโโโโโโโโโ\n${storytime.text}`, m);
    } catch {
    
      const err = await fetch(`https://api.lolhuman.xyz/api/openai?apikey=${lolkeysapi}&text=Elabora%20una%20historia%20romantica%20que%20use%20el%20siguiente%20formato:%20%E1%AD%A5%F0%9F%AB%90%E1%AD%A2%20T%C3%ADtulo:%20%E1%AD%A5%F0%9F%8D%83%E1%AD%A2%20Autor:%20%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%20hsitoria...%20adalah&user=user-unique-id`);
      const json = await err.json();
      const fraseChat = json.result;

      conn.reply(m.chat, fraseChat, m);
    }
  }
};


handler.tags = ['frases'];
handler.command = handler.help = ['ูุตูุญุฉ', 'ุฑููุงูุณูุฉ'];
export default handler;


async function cerpen(category) {
  return new Promise((resolve, reject) => {
    const title = category.toLowerCase().replace(/[()*]/g, '');
    const judul = title.replace(/\s/g, '-');
    const page = Math.floor(Math.random() * 5);
  
    axios.get('http://cerpenmu.com/category/cerpen-' + judul + '/page/' + page)
      .then((get) => {
        const $ = cheerio.load(get.data);
        const link = [];
        $('article.post').each(function (a, b) {
          link.push($(b).find('a').attr('href'));
        });
        const random = link[Math.floor(Math.random() * link.length)];
    
        axios.get(random).then((res) => {
          const $$ = cheerio.load(res.data);
          const hasil = {
            title: $$('#content > article > h1').text(),
            author: $$('#content > article').text().split('Cerpen Karangan: ')[1].split('Kategori: ')[0],
            kategori: $$('#content > article').text().split('Kategori: ')[1].split('\n')[0],
            lolos: $$('#content > article').text().split('Lolos moderasi pada: ')[1].split('\n')[0],
            cerita: $$('#content > article > p').text(),
          };
          resolve(hasil);
        });
      });
  });
}


global.frasesromanticas = [
  'ุฃูุช ุงูููุฑ ุงูุฐู ูุถูุก ุญูุงุชู ูู ุงูุธูุงู.',
  'ูุนูุ ูู ููู ูุบุงูุฑุฉ ุฌุฏูุฏุฉ ูููุฆุฉ ุจุงูุญุจ.',
  'ุนููุงู ููุง ุงูุนูุงุณ ุงูุณูุงุก ุงูุชู ุฃุฑุบุจ ูู ุงูุงูุบูุงุณ ูููุง.',
  'ูู ูุจุถุฉ ูู ููุจู ุชุญูู ุงุณูู.',
  'ูู ุฐุฑุงุนููุ ูุฌุฏุช ุงูููุฒู ุงูุฐู ุจุญุซุช ุนูู ุฏุงุฆููุง.',
  'ุฃูุช ุงูุญูู ุงูุฐู ูุง ุฃุฑุบุจ ุฃุจุฏูุง ูู ุงูุงุณุชููุงุธ ููู.',
  'ุงูุญุจ ุงูุญูููู ูู ุฃู ูููู ูุนูุง ูู ุงูุณุฑุงุก ูุงูุถุฑุงุก.',
  'ูุง ุชูุฌุฏ ูุณุงูุงุช ุนูุฏูุง ูุชุญุฏ ููุจุงู.',
  'ูุจูุงุชู ูู ุงููุญู ุงูุฐู ูุณุฑุน ูุจุถ ููุจู.',
  'ุงูุญุจ ูู ุฃู ูุฑู ููู ูุง ูุง ูููู ูุฃุญุฏ ุขุฎุฑ ุฃู ูุฑุงู.',
  'ูู ูู ูุจุถุฉุ ุฃุญููู ูุนู ุฅูู ูู ููุงู.',
  'ุงูุญุจ ุงูุฐู ุฃุดุนุฑ ุจู ูุญูู ูู ููุชู ูุฅููุงูู.',
  'ูููุงุชู ุงูุญููุฉ ูู ุบุฐุงุฆู ุงูุนุงุทูู ุงููููู.',
  'ุฃูุช ุฃุบูู ูุฏูุฉ ุฃุนุทุชูุง ูู ุงูุญูุงุฉ.',
  'ุงูููุช ูุชููู ุนูุฏูุง ุฃููู ุจุฌุงูุจู.',
  'ูู ุงุจุชุณุงูุชูุ ุฃุฌุฏ ุงูุณุนุงุฏุฉ ุงูุชู ุจุญุซุช ุนููุง.',
  'ูู ููู ุฃูุถูู ุจุฌุงูุจู ูู ูุตุฉ ุญุจ ุจุฏูู ููุงูุฉ.',
  'ุญุจูุง ูู ูุฃูู ุญูุงูุฉ ุฎูุงููุฉ ุชุชุญูู.',
  'ุนูุงูู ูู ููุฌุฃู ูู ูุฐุง ุงูุนุงูู ุงููุถุทุฑุจ.',
  'ุฃูุช ุงูุณุจุจ ูููุง ุขููุช ุจุงููุฏุฑ.',
  'ุฃู ูุญุจ ูู ุฃู ูุฑู ููู ูู ูุง ูุง ูููู ููุขุฎุฑูู ุฃู ูุฑูู.',
  'ุญุจู ูู ุงูููุญุฉ ุงููุงุฑุบุฉ ุงูุชู ุฃุฑุณู ุนูููุง ุณุนุงุฏุชู.',
  'ูุนูุ ุงููุณุชูุจู ูู ุทุฑูู ูููุก ุจุงููุนูุฏ ูุงูุฃุญูุงู.',
  'ุฃูุช ุงูููุงุฑุฉ ุงูุชู ุชุฑุดุฏ ููุจู ูู ุงูุธูุงู.',
  'ุณุญุฑ ุงูุญุจ ูููู ูู ูู ููุฉ ูููู ุจูุง ูุนูุง.',
  'ูู ุฐุฑุงุนููุ ุงูุนุงูู ุจุฃูููู ูุฎุชูู ููุญู ูููู ููุท ุฃูุช ูุฃูุง.',
  'ุงูุญุจ ูู ุงููุบุฉ ุงูุชู ูุชุญุฏุซ ุจูุง ูููุจูุง.',
  'ุฃูุช ุงูุฌุฒุก ุงูุฐู ููุต ููู ูุฑูุญู.',
  'ุฃู ูุญุจ ูู ุฃู ูุฌุฏ ููู ูู ูุง ูู ููู ูุนุฑู ุฃุจุฏูุง ุฃูู ูุญุชุงุฌู.',
];


global.consejos = [
  'ูุจู ุงูุชุบููุฑ ูุฌุฒุก ุทุจูุนู ูู ุงูุญูุงุฉุ ูุชุนูู ููููุฉ ุงูุชููู ูุนู.',
  'ูุง ุชุชููู ุฃุจุฏูุง ุนู ุงูุชุนูู. ุงููุนุฑูุฉ ูู ุฃุฏุงุฉ ูููุฉ.',
  'ุงุนุชูู ุจุตุญุชู ุงูุฌุณุฏูุฉ ูุงูุนูููุฉุ ููู ุฃุณุงุณูุฉ ูุญูุงุฉ ูููุฆุฉ.',
  'ุงุณุชูุชุน ุจุงูุฃุดูุงุก ุงูุตุบูุฑุฉุ ููู ุชููุญ ุงูุญูุงุฉ ูุนูู.',
  'ุชุนูู ููููุฉ ุงูุนููุ ุณูุงุก ุนูู ุงูุขุฎุฑูู ุฃู ุนูู ููุณูุ ูุชุญุฑูุฑ ููุจู.',
  'ูุฏููุฑ ุงูููุช ุงูุฐู ุชูุถูู ูุน ุฃุญุจุงุฆูุ ููู ุฃุบูู ูุฏูุฉ ูููู ุฃู ุชุนุทููุง ูุชุชููุงูุง.',
  'ูู ูุทูููุง ููุชุนุงุทููุง ูุน ุงูุขุฎุฑูู. ูู ูุนู ุตุบูุฑ ูู ุงููุทู ูุฏ ูุญุฏุซ ูุฑููุง ูู ุญูุงุชูู.',
  'ุชุนูู ููููุฉ ููู "ูุง" ุนูุฏ ุงูุถุฑูุฑุฉุ ููู ุจุชุญุฏูุฏ ุญุฏูุฏ ุตุญูุฉ.',
  'ุงุจุญุซ ุนู ุงูููุช ููููุงู ุจูุง ุชุดุบู ุจู ุฑูุญู ูุชุฌุนูู ุชุดุนุฑ ุจุงูุญูุงุฉ.',
  'ูุง ุชูุงุฑู ููุณู ุจุงูุขุฎุฑููุ ููู ุดุฎุต ูุฏูู ูุณุงุฑู ูุฅููุงุนู ุงูุฎุงุต ูู ุงูุญูุงุฉ.',
  'ุงุณุชูุน ุฅูู ุดุฑููู ุจุงูุชููู ูุงูุชุญุฏุซ ุจุตุฏูุ ูุงูุชูุงุตู ุฃุณุงุณ ุนูุงูุฉ ูููุฉ.',
  'ูุง ุชุฎู ูู ุงูุชุนุจูุฑ ุนู ูุดุงุนุฑูุ ูุงูุตุฏุงูุฉ ุถุฑูุฑูุฉ ูู ุงูุญุจ.',
  'ุชุนูู ููููุฉ ุงูุชูุงุฒู ูุงูุชูุตู ุฅูู ุชุณููุฉุ ูุงูุญุจ ูุชุทูุจ ุงูุชุถุญูุฉ ูุงูุฌูุฏ ุงููุชุจุงุฏู.',
  'ูุฏููุฑ ุงูุฐุงุช ูุงุนุชูู ุจููุณู ููุฏููุฑ ููุณู.',
  'ุชุฐูุฑ ุฃู ุงูุนูุงูุฉ ุงูุตุญูุฉ ุชููู ุนูู ุงูุซูุฉ ุงููุชุจุงุฏูุฉ ูุงุญุชุฑุงู ุงูุขุฎุฑ.',
  'ุงุฎุชุฑ ุดุฑูููุง ููููููู ููุฌุนูู ูุณุฎุฉ ุฃูุถู ูู ููุณู.',
  'ุงูุญุจ ุงูุญูููู ูุง ูุฌุนูู ุชุดุนุฑ ุจุฃูู ุฃููุ ุจู ูุฌุนูู ุชุดุนุฑ ุจุฃูู ุฃูุซุฑ.',
  'ุงูุญุจ ูู ูุนูุ ููู ุงุฎุชูุงุฑ ูููู ูุชุทูุจ ุงูุนูู ูุงูุฃููุงู.',
  'ุงุจุญุซ ุนู ูุธููุฉ ุชุดุบู ุจูุง ุดุบููุ ููู ุชุดุนุฑ ุจุฃูู ุชุนูู ุฃุจุฏูุง.',
  'ูู ูุดูุทูุง ูุงุชุฎุฐ ุงููุจุงุฏุฑุฉ ูู ุนูููุ ููุฐุง ุณูููุฏููุฑ ูู ูุจู ุฑุคุณุงุฆู.',
  'ุชุนูู ูู ุฃุฎุทุงุฆู ููุดููุ ููู ูุฑุต ููููู ูุงูุชุญุณูู.',
  'ุญุงูุธ ุนูู ูููู ุฅูุฌุงุจู ูุงุจุญุซ ุนู ุญููู ููุชุญุฏูุงุช ูู ุงูุนูู.',
  'ูู ุจุจูุงุก ุนูุงูุงุช ุฌูุฏุฉ ูุน ุฒููุงุฆู ูู ุงูุนููุ ูุงูุนูู ุงูุฌูุงุนู ุฃุณุงุณ ุงููุฌุงุญ.',
  'ุญุฏุฏ ุฃูุฏุงููุง ูุงุถุญุฉ ููุงูุนูุฉุ ูุนูู ุจุฌุฏ ูุชุญููููุง.',
  'ูุง ุชุฎุงู ูู ุทูุจ ุงููุณุงุนุฏุฉ ุฃู ุงูุจุญุซ ุนู ูู ูุฑุดุฏูุ ุฏุงุฆููุง ููุงู ุดูุก ุฌุฏูุฏ ููุชุนูู.',
  'ุงุนุชุฑู ุจุฅูุฌุงุฒุงุชู ูุงุญุชูู ุจูุฌุงุญุงุชูุ ูููุง ูุงูุช ุตุบูุฑุฉ.',
  'ุงุจุญุซ ุนู ุชูุงุฒู ุจูู ุญูุงุชู ุงูููููุฉ ูุงูุดุฎุตูุฉุ ุญูุซ ููุงููุง ููู.',
  'ุงูุนูู ุฌุฒุก ูุงู ูู ุญูุงุชูุ ููููู ููุณ ูู ูุง ูุญุฏุฏ ูู ุฃูุช.',
  'ุขูู ุจููุณู ููุฏุฑุชู ุนูู ุชุญููู ูุง ุชุฑุบุจ ููู.',
  'ุชุฎูู ุฃูุฏุงูู ูุฃุญูุงููุ ูุชุตูููุฑ ููู ุณุชุดุนุฑ ุนูุฏ ุชุญููููุง.',
  'ุงุจุญุซ ุนู ุฅููุงู ูููู ุชุนุงููู ูู ุนูุจุงุช ููุงุซูุฉ ูุชูู ุงูุชู ุชูุงุฌููุง.',
  'ูุจู ุฃู ุชุจุฏุฃุ ุชุฐูุฑ ููุงุฐุง ุจุฏุฃุชุ ุงุณุชุนุฏ ูุน ูุฏูู.',
  'ูุณููู ุฃูุฏุงูู ุฅูู ุฎุทูุงุช ุตุบูุฑุฉุ ูุฐูู ุณูุฌุนู ุงูุทุฑูู ุฃูุซุฑ ุฅููุงููุฉ ูุฃูู ุถุบุทูุง.',
  'ูุง ุชุฎุงู ูู ูุชุงุจุนุฉ ุฃุญูุงููุ ูุงูุญูุงุฉ ูุตูุฑุฉ ุฌุฏูุง ูุชุนูุด ุจุฏูู ุฃู ูุฏู.',
  'ุชุซู ุจุฃูู ุจุงูุฌูุฏ ูุงูุฅุตุฑุงุฑุ ููููู ุชุญููู ูู ูุง ุชุฑุบุจ ููู.',
];
